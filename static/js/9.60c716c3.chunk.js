(this.webpackJsonpreact01=this.webpackJsonpreact01||[]).push([[9],{290:function(e,t,a){e.exports={messageItem:"ChatPage_messageItem__3hgfY",ava:"ChatPage_ava__1opON",flex:"ChatPage_flex__1VMbX",name:"ChatPage_name__2FBv3",message:"ChatPage_message__27PZF",messages:"ChatPage_messages__1IlCN",title:"ChatPage_title__30Eor",messageForm:"ChatPage_messageForm__3KEJ3",area:"ChatPage_area__2Hu4-",btn:"ChatPage_btn__1qMsf",chat:"ChatPage_chat__XQP9r"}},298:function(e,t,a){"use strict";a.r(t);var r=a(99);var n=a(0),s=a.n(n),c=a(8),i=a(50),o=a(290),u=a.n(o),l=a(24),j=a(13),b=a(2),h=function(){var e=Object(c.c)(),t=Object(c.d)((function(e){return e.chat.status}));return Object(n.useEffect)((function(){return e(Object(i.c)()),function(){e(Object(i.d)())}}),[]),Object(b.jsxs)(b.Fragment,{children:["error"===t&&Object(b.jsx)("div",{children:"Some error occured. Please refresh the page"}),Object(b.jsxs)("div",{className:u.a.chat,children:[Object(b.jsx)(m,{}),Object(b.jsx)(f,{})]})]})},m=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(c.d)((function(e){return e.chat.messages})),a=Object(n.useRef)(null),s=Object(n.useState)(!0),i=Object(r.a)(s,2),o=i[0],l=i[1];Object(n.useEffect)((function(){var e;o&&(null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[t]);var j=t.map((function(e){return Object(b.jsx)(d,{message:e},e.id)}));return Object(b.jsxs)("div",{onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!o&&l(!0):o&&l(!1)},className:u.a.messages,children:[j,Object(b.jsx)("div",{ref:a})]})},d=s.a.memo((function(e){var t=e.message;return Object(b.jsxs)("div",{className:u.a.messageItem,children:[Object(b.jsx)("div",{className:u.a.ava,children:Object(b.jsxs)(j.b,{to:"profile/"+t.userId,children:[" ",Object(b.jsx)("img",{src:t.photo?t.photo:l.a})]})}),Object(b.jsxs)("div",{className:u.a.flex,children:[Object(b.jsx)("h4",{className:u.a.name,children:t.userName}),Object(b.jsx)("p",{className:u.a.message,children:t.message})]})]})})),f=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],s=t[1],o=Object(c.c)(),l=Object(c.d)((function(e){return e.chat.status}));return Object(b.jsxs)("div",{className:u.a.messageForm,children:[Object(b.jsx)("textarea",{onChange:function(e){return s(e.currentTarget.value)},value:a,className:u.a.area,placeholder:"write message..."}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{disabled:"ready"!==l,onClick:function(){a&&(o(Object(i.b)(a)),s(""))},className:u.a.btn,children:"send"})})]})};t.default=function(){return Object(b.jsx)("div",{children:Object(b.jsx)(h,{})})}},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(38);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,s=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(o){n=!0,s=o}finally{try{r||null==i.return||i.return()}finally{if(n)throw s}}return a}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=9.60c716c3.chunk.js.map
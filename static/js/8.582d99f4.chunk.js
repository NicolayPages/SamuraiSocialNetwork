(this.webpackJsonpreact01=this.webpackJsonpreact01||[]).push([[8],{270:function(e,t,n){e.exports={paginator:"Paginator_paginator__1g-A_",list:"Paginator_list__lX_AV",selected:"Paginator_selected__2DDt8",pagBtn:"Paginator_pagBtn__9j3hk"}},271:function(e,t,n){e.exports={wrapper:"Search_wrapper__Q3eoN",form:"Search_form__1hW7C",input:"Search_input__26f2G",select:"Search_select__3AL3Q"}},272:function(e,t,n){e.exports={wrapper:"Users_wrapper__3o1TE",title:"Users_title__1dZPm",items:"Users_items__MbajM",item:"Users_item__3fvMN",info:"Users_info__oDPzh",infoUser:"Users_infoUser__aR1Ou",name:"Users_name__sikwh",status:"Users_status__2E__z",followedBtn:"Users_followedBtn__2WXa5",ava:"Users_ava__2xPQv",avaLink:"Users_avaLink__2TvYT",notFound:"Users_notFound__3WSnO"}},296:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(0),r=n.n(a),c=n(8),i=n(6),o=n(49),l=n(16),u=n(291),j=function(e){return e.usersPage.users},d=function(e){return e.usersPage.pageSize},f=function(e){return e.usersPage.totalUserCount},b=function(e){return e.usersPage.isFetching},m=function(e){return e.usersPage.isFollowing},h=function(e){return e.usersPage.currentPage},O=function(e){return e.usersPage.filter},_=(Object(u.a)(j,b,(function(e){return e.filter((function(e){return!0}))})),n(13)),g=n(24),p=n(99),x=n(270),U=n.n(x),w=n(2),v=r.a.memo((function(e){for(var t=Math.ceil(e.totalUserCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);var r=e.pageSize,c=Math.ceil(e.totalUserCount/r),i=Object(a.useState)(1),o=Object(p.a)(i,2),l=o[0],u=o[1],j=(l-1)*r+1,d=l*r,f=n.filter((function(e){return e>=j&&e<=d})).map((function(t){return Object(w.jsx)("li",{onClick:function(n){e.onPageChanged(t)},className:e.currentPage===t?U.a.selected:U.a.g,children:t},t)}));return Object(w.jsxs)("div",{className:U.a.paginator,children:[l>1&&Object(w.jsx)("button",{className:U.a.pagBtn,onClick:function(){return u(l-1)},children:"prev"}),Object(w.jsx)("ul",{className:U.a.list,children:f}),c>l&&Object(w.jsx)("button",{className:U.a.pagBtn,onClick:function(){return u(l+1)},children:"next"})]})})),N=n(30),P=n(106),F=n(271),C=n.n(F),S=a.memo((function(e){var t=Object(c.d)(O),n={term:t.term,friend:String(t.friend)};return Object(w.jsx)("div",{className:C.a.wrapper,children:Object(w.jsx)(P.c,{initialValues:n,onSubmit:function(t){e.onFilterChanged(t)},children:Object(w.jsxs)(P.b,{className:C.a.form,children:[Object(w.jsx)(P.a,{className:C.a.input,name:"term",placeholder:"find users..."}),Object(w.jsxs)(P.a,{className:C.a.select,name:"friend",as:"select",children:[Object(w.jsx)("option",{value:"null",children:"All users"}),Object(w.jsx)("option",{value:"true",children:"Only followed"}),Object(w.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(w.jsx)("button",{children:"Find"})]})})})})),k=n(272),z=n.n(k),A=r.a.memo((function(e){var t=e.totalUserCount,n=e.pageSize,s=e.isFetching,a=e.currentPage,r=e.users,c=e.isFollowing,i=e.isAuth,o=e.onPageChanged,l=e.onFollowUsers,u=e.onUnfollowUsers,j=e.onFilterChanged,d=r.map((function(e){return Object(w.jsx)(B,{onUnfollowUsers:u,onFollowUsers:l,isFollowing:c,isAuth:i,photos:e.photos,id:e.id,status:e.status,name:e.name,followed:e.followed},e.id)}));return Object(w.jsx)("div",{className:z.a.wrapper,children:Object(w.jsxs)("div",{className:z.a.content,children:[Object(w.jsx)("h1",{className:z.a.title,children:"Users"}),Object(w.jsx)(S,{onFilterChanged:j}),s?Object(w.jsx)(N.a,{}):Object(w.jsx)("div",{className:z.a.items,children:0!==d.length?d:Object(w.jsx)("p",{className:z.a.notFound,children:"User is not found..."})}),Object(w.jsx)(v,{totalUserCount:t,pageSize:n,currentPage:a,onPageChanged:o})]})})})),B=r.a.memo((function(e){var t=e.onFollowUsers,n=e.onUnfollowUsers,s=e.id,a=e.photos,r=e.isAuth,c=e.followed,i=e.isFollowing,o=e.status,l=e.name;return Object(w.jsxs)("div",{className:z.a.item,children:[Object(w.jsx)("div",{className:z.a.ava,children:Object(w.jsx)(_.c,{className:z.a.avaLink,to:"/profile/"+s,children:Object(w.jsx)("img",{src:null!=a.small?a.small:g.a,alt:""})})}),Object(w.jsxs)("div",{className:z.a.info,children:[Object(w.jsxs)("div",{className:z.a.infoUser,children:[Object(w.jsx)("h2",{className:z.a.name,children:l}),Object(w.jsx)("p",{className:z.a.status,children:null!=o?o:"Something about user"})]}),r&&Object(w.jsx)("div",{className:z.a.btns,children:c?Object(w.jsx)("button",{disabled:i.some((function(e){return e===e})),className:z.a.followedBtn,onClick:function(){n(s)},children:"unfollow"}):Object(w.jsx)("button",{disabled:i.some((function(e){return e===e})),className:z.a.followedBtn,onClick:function(){t(s)},children:"follow"})})]})]},s)})),M=n(273),E=r.a.memo((function(){var e=Object(c.d)(j),t=Object(c.d)(d),n=Object(c.d)(f),r=Object(c.d)(h),u=Object(c.d)(b),_=Object(c.d)(m),g=Object(c.d)(l.d),p=Object(c.d)(O),x=Object(c.c)(),U=Object(i.g)();Object(a.useEffect)((function(){var e=M.parse(U.location.search),n=r,a=p;switch(e.page&&(n=Number(e.page)),e.term&&(a=Object(s.a)(Object(s.a)({},a),{},{term:e.term})),e.friend){case"null":a=Object(s.a)(Object(s.a)({},a),{},{friend:null});break;case"false":a=Object(s.a)(Object(s.a)({},a),{},{friend:!1});break;case"true":a=Object(s.a)(Object(s.a)({},a),{},{friend:!0})}x(Object(o.c)(n,t,a))}),[]),Object(a.useEffect)((function(){var e={};p.term&&(e.term=p.term),null!==p.friend&&(e.friend=String(p.friend)),1!==r&&(e.page=String(r)),U.push({pathname:"/users",search:M.stringify(e)})}),[p,r]);return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(A,{totalUserCount:n,pageSize:t,currentPage:r,users:e,isFollowing:_,isAuth:g,isFetching:u,onPageChanged:function(e){x(Object(o.c)(e,t,p))},onFilterChanged:function(e){x(Object(o.c)(1,t,e))},onFollowUsers:function(e){x(Object(o.b)(e))},onUnfollowUsers:function(e){x(Object(o.d)(e))}})})}));t.default=E}}]);
//# sourceMappingURL=8.582d99f4.chunk.js.map
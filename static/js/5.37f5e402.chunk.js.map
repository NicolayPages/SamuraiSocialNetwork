{"version":3,"sources":["components/common/FormElements/FormElements.jsx","hoc/withAuthRedirect.js","components/common/FormElements/FormElements.module.scss","utilits/validators/validators.js","components/Dialogs/Dialogs.module.scss","components/Dialogs/Dialog/Dialog.module.scss","components/Dialogs/Message/Message.module.scss","components/Dialogs/MessageForm/MessageForm.module.scss","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/MessageForm/MessageFormContainer.jsx","components/Dialogs/Dialogs.jsx","redux/dialogs-selectors.js","components/Dialogs/DialogsContainer.jsx"],"names":["Textarea","input","meta","props","hasError","touched","error","className","s","formControl","span","Input","spanInput","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","module","exports","required","value","maxLengthCreator","maxLength","length","Dialog","path","id","link","activeClassName","name","Message","message","user","icon","src","userPhoto","alt","content","text","maxLength200","MessageFormComponent","onAddMessage","values","dispatch","addMessageActionCreator","addNewMessage","reset","MessageReduxForm","onSubmit","reduxForm","form","messageForm","handleSubmit","Field","component","messageArea","placeholder","validate","messageSend","compose","newText","dialogsPage","messageNewText","Dialogs","dialogElements","dialogs","map","d","messageElements","messages","m","items","title","wrapper","getDialogs","getMessages","DialogsContainer"],"mappings":"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","file":"static/js/5.37f5e402.chunk.js","sourcesContent":["import React from 'react';\r\nimport s from './FormElements.module.scss'\r\n\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n   const hasError = meta.touched && meta.error;\r\n   return (\r\n      <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n         <div><textarea {...input} {...props} /></div>\r\n         {hasError && <span className={s.span}>{meta.error}</span>}\r\n      </div>\r\n   );\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n   const hasError = meta.touched && meta.error;\r\n   return (\r\n      <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n         <div><input {...input} {...props} /></div>\r\n         {hasError && <span className={s.spanInput}>{meta.error}</span>}\r\n      </div>\r\n   );\r\n};\r\n\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n   isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n   class RedirectComponent extends React.Component {\r\n      render() {\r\n         if (!this.props.isAuth) return <Redirect to='/login' />\r\n         return <Component {...this.props} />\r\n      };\r\n   };\r\n   let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n   return ConnectedAuthRedirectComponent;\r\n};\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormElements_formControl__3KJbR\",\"error\":\"FormElements_error__1hf5q\",\"span\":\"FormElements_span__3JHKa\",\"spanInput\":\"FormElements_spanInput__1cELw\"};","export const required = value => {\r\n   if (value) return undefined;\r\n   return 'Field is required!'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n   if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n   return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1YxzG\",\"items\":\"Dialogs_items__MNeEY\",\"title\":\"Dialogs_title__1zSl8\",\"messages\":\"Dialogs_messages__YnvOH\",\"wrapper\":\"Dialogs_wrapper__3A2lt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Dialog_link__3OONQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__ylXXx\",\"user\":\"Message_user__3kYNv\",\"icon\":\"Message_icon__2_PJA\",\"name\":\"Message_name__2kCrt\",\"content\":\"Message_content__3Gdg-\",\"text\":\"Message_text__tALBX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageForm\":\"MessageForm_messageForm__tG0dA\",\"messageArea\":\"MessageForm_messageArea__1wiE3\",\"messageSend\":\"MessageForm_messageSend__1tNW7\"};","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Dialog.module.scss'\r\n\r\nconst Dialog = (props) => {\r\n   let path = \"/dialogs/\" + props.id;\r\n   return (\r\n      <li className={s.link}><NavLink to={path} activeClassName=\"selected\" >{props.name}</NavLink></li>\r\n   );\r\n}\r\n\r\nexport default Dialog;","import React, { Component } from 'react';\r\nimport s from './Message.module.scss'\r\nimport userPhoto from '../../../assets/images/user.png'\r\n\r\nconst Message = (props) => {\r\n   return (\r\n      <div className={s.message}>\r\n         <div className={s.user}>\r\n            <div className={s.icon}>\r\n               <img src={userPhoto} alt=\"\" />\r\n            </div>\r\n            <p className={s.name}>{props.name}</p>\r\n         </div>\r\n         <div className={s.content}>\r\n            <p className={s.text}>{props.message}</p>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default Message;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm, Field, reset } from 'redux-form';\r\nimport s from './MessageForm.module.scss'\r\nimport { compose } from 'redux';\r\nimport { addMessageActionCreator } from './../../../redux/dialogs-reducer';\r\nimport { maxLengthCreator, required } from '../../../utilits/validators/validators';\r\nimport { Textarea } from './../../common/FormElements/FormElements';\r\n\r\nconst maxLength200 = maxLengthCreator(200);\r\n\r\nclass MessageFormComponent extends React.Component {\r\n   constructor(props) {\r\n      super(props)\r\n   }\r\n   onAddMessage = (values, dispatch) => {\r\n      this.props.addMessageActionCreator(values.addNewMessage);\r\n      dispatch(reset('MessageForm'));\r\n   };\r\n   render() {\r\n      return (\r\n         <MessageReduxForm onSubmit={this.onAddMessage} />\r\n      );\r\n   }\r\n}\r\n\r\nconst MessageForm = (props) => {\r\n   return (\r\n      <form className={s.messageForm} onSubmit={props.handleSubmit}>\r\n         <Field\r\n            component={Textarea}\r\n            className={s.messageArea}\r\n            placeholder=\"Write message...\"\r\n            name={'addNewMessage'}\r\n            validate={[required, maxLength200]} />\r\n         <button className={s.messageSend}>Send</button>\r\n      </form>\r\n   );\r\n};\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n   return {\r\n      newText: state.dialogsPage.messageNewText,\r\n   }\r\n};\r\n\r\nconst MessageReduxForm = reduxForm({ form: 'MessageForm' })(MessageForm);\r\n\r\n\r\nexport default compose(\r\n   connect(mapStateToProps, { addMessageActionCreator }),\r\n)(MessageFormComponent);","import React, { Component } from 'react';\r\nimport s from './Dialogs.module.scss'\r\nimport Dialog from './Dialog/Dialog';\r\nimport Message from './Message/Message';\r\nimport MessageFormComponent from './MessageForm/MessageFormContainer';\r\n\r\nconst Dialogs = (props) => {\r\n   let dialogElements = props.dialogs.map(d => <Dialog name={d.name} id={d.id} />);\r\n   let messageElements = props.messages.map(m => <Message name={m.name} id={m.id} message={m.message} />);\r\n   return (\r\n      <div className={s.dialogs}>\r\n         <ul className={s.items}>\r\n            <h2 className={s.title}>Dialogs</h2>\r\n            {dialogElements}\r\n         </ul>\r\n         <div className={s.wrapper}>\r\n            <div className={s.messages}>\r\n               {messageElements}\r\n            </div>\r\n            <MessageFormComponent />\r\n         </div>\r\n      </div>\r\n   );\r\n};\r\nexport default Dialogs;\r\n","export const getDialogs = (state) => {\r\n   return state.dialogsPage.dialogs\r\n};\r\nexport const getMessages = (state) => {\r\n   return state.dialogsPage.messages\r\n};\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport Dialogs from './Dialogs';\r\nimport { withAuthRedirect } from './../../hoc/withAuthRedirect';\r\nimport { getDialogs, getMessages } from '../../redux/dialogs-selectors';\r\nimport { getIsAuth } from './../../redux/auth-selectors';\r\n\r\nclass DialogsContainer extends React.Component {\r\n   constructor(props) {\r\n      super(props)\r\n   }\r\n   render() {\r\n      return (\r\n         <Dialogs {...this.props} />\r\n      );\r\n   }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n   return {\r\n      dialogs: getDialogs(state),\r\n      messages: getMessages(state),\r\n   };\r\n};\r\n\r\n\r\n\r\n\r\nexport default compose(\r\n   connect(mapStateToProps, {}),\r\n   withAuthRedirect,\r\n)(DialogsContainer);\r\n"],"sourceRoot":""}
{"version":3,"sources":["components/common/ErrorPopup/ErrorPopup.module.scss","components/Header/Header.module.scss","selectors/auth-selectors.ts","components/Sidebar/Friends/Friends.module.scss","components/Footer/Footer.tsx","components/Header/Header.tsx","assets/images/logo.png","redux/sidebar-reducer.ts","selectors/sidebar-selectors.ts","components/common/MiniPreloader/Preloader.tsx","components/Sidebar/Friends/Friends.tsx","components/Sidebar/Menu_link/Menu_link.tsx","components/Sidebar/Sidebar.tsx","redux/app-reducer.ts","App.tsx","reportWebVitals.js","redux/redux-store.ts","index.tsx","redux/auth-reducer.ts","components/Sidebar/Sidebar.module.scss","assets/images/user.png","api.ts","components/Footer/Footer.module.scss","components/common/Preloader/Preloader.tsx","components/common/Preloader/Preloader.module.scss","components/common/MiniPreloader/Preloader.module.scss","redux/profile-reducer.ts","assets/images/error.jpg","selectors/error-selectors.ts","components/common/ErrorPopup/ErrorPopup.tsx","redux/errors-reducer.ts","redux/dialogs-reducer.ts","utilits/validators/object-helpers.ts","redux/users-reducer.ts"],"names":["module","exports","getIsAuth","state","auth","isAuth","getLogin","login","getUserId","userId","getCaptcha","captcha","getAuthError","authError","getInitialized","app","initialized","Footer","React","memo","className","s","container","Footer__copy","HeaderContainer","useSelector","dispatch","useDispatch","Header","authUserLogOut","props","header","headerBody","logo","src","alt","loginBlock","login_wrapper","login_ava","userPhoto","onClick","btn","to","initialState","links","id","address","name","friends","pageSize","totalUserCount","currentPage","isFetching","actions","type","totalCount","sidebarReducer","action","getLinks","sidebar","getFriends","getPageSize","getCurrentPage","getIsFetching","MiniPreloader","wrapper","ldsDualRing","Friends","friendsElements","map","f","Friend","photo","photos","small","title","flex","friend","icon","Menu_link","path","sidebar__link","activeClassName","active","SidebarContainer","useEffect","a","usersAPI","getFiends","data","items","showError","message","requestFriends","Sidebar","menuElements","l","Sidebar__list","appReducer","ProfileContainer","lazy","DialogsContainer","UsersContainer","LoginContainer","NotFound","Music","News","Settings","compose","withRouter","promise","authUserData","Promise","all","then","error","ErrorPopup","fallback","Preloader","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","authReducer","form","formReducer","errors","errorsReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById","email","authAPI","getUserData","resultCode","ResultCodeEnum","Success","authUserLogIn","password","rememberMe","logInUser","CaptchaIsRequired","getCapthchaUrl","errorMessage","messages","length","logOutUser","securityAPI","url","instance","axios","create","withCredentials","baseURL","headers","getUsers","term","get","response","followUser","post","unfollowUser","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","getUsersForProfile","updatePhoto","photoFile","formData","FormData","append","updateProfile","newData","getUserPhoto","posts","likes","profile","editMode","localIsFetching","addPostActionCreator","postMessage","setUserProfile","toggleIsFetching","setStatus","deletePost","postId","likePost","postLike","setPhoto","photosFiles","toggleLocalIsFetching","onEditMode","offEditMode","setProfileError","getUserProfile","profileData","getState","newPost","filter","p","getErrorMessage","deactivateMode","wrapperNone","wrapperBody","closeWrapper","close","content","subtitle","image","errorIcon","errorsMode","activateMode","dialogs","addMessageActionCreator","newMessage","updateObjectInArray","itemId","objPropName","newObjProps","u","users","isFollowing","followUnfollowFlow","apiMethod","actionCreator","requestUsers","followUsers","bind","unfollowUsers","followed"],"mappings":"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","file":"static/js/main.3472404b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperNone\":\"ErrorPopup_wrapperNone__1EKn_\",\"wrapper\":\"ErrorPopup_wrapper__JRpyc\",\"wrapperBody\":\"ErrorPopup_wrapperBody__1uy62\",\"closeWrapper\":\"ErrorPopup_closeWrapper__1L355\",\"header\":\"ErrorPopup_header__1p1Sh\",\"title\":\"ErrorPopup_title__2stoK\",\"close\":\"ErrorPopup_close__3dTTe\",\"content\":\"ErrorPopup_content__1GiGB\",\"subtitle\":\"ErrorPopup_subtitle__3_Suh\",\"image\":\"ErrorPopup_image__Qr0-o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__14q2p\",\"logo\":\"Header_logo__3XlIA\",\"container\":\"Header_container__2zgjm\",\"headerBody\":\"Header_headerBody__3L2xV\",\"loginBlock\":\"Header_loginBlock__5-fvZ\",\"login_wrapper\":\"Header_login_wrapper__1g1hm\",\"login_ava\":\"Header_login_ava__ck3w4\",\"login\":\"Header_login__dSwZ1\",\"btn\":\"Header_btn__8NYfP\"};","import { AppStateType } from \"../redux/redux-store\";\r\n\r\nexport const getIsAuth = (state: AppStateType) => {\r\n   return state.auth.isAuth\r\n};\r\nexport const getLogin = (state: AppStateType) => {\r\n   return state.auth.login\r\n};\r\nexport const getUserId = (state: AppStateType) => {\r\n   return state.auth.userId\r\n};\r\nexport const getCaptcha = (state: AppStateType) => {\r\n   return state.auth.captcha\r\n};\r\nexport const getAuthError = (state: AppStateType) => {\r\n   return state.auth.authError\r\n};\r\n\r\nexport const getInitialized = (state: AppStateType) => {\r\n   return state.app.initialized\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Friends_title__3sdAS\",\"friend\":\"Friends_friend__3U11j\",\"flex\":\"Friends_flex__2amwk\",\"icon\":\"Friends_icon__3UfN2\",\"name\":\"Friends_name__10bK-\"};","import React, { Component } from 'react';\nimport s from './Footer.module.scss'\nexport const Footer: React.FC = React.memo(() => {\n  return (\n    <footer className={s.Footer}>\n      <div className={s.container}>\n        <p className={s.Footer__copy}>Â©My Social App, 2022</p>\n      </div>\n    </footer>\n  )\n})\n\n\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport logo from '../../../src/assets/images/logo.png';\nimport userPhoto from '../../assets/images/user.png';\nimport { authUserLogOut } from '../../redux/auth-reducer';\nimport { getIsAuth, getLogin } from '../../selectors/auth-selectors';\nimport s from './Header.module.scss';\n\ntype PropsType = {\n  isAuth: boolean\n  login: string | null\n  authUserLogOut: () => void\n}\n\n\nexport const HeaderContainer: React.FC = React.memo(() => {\n  const isAuth = useSelector(getIsAuth);\n  const login = useSelector(getLogin);\n  const dispatch = useDispatch();\n\n  let onLogOutUser = () => {\n    dispatch(authUserLogOut());\n  }\n\n  return (\n    <Header\n      isAuth={isAuth}\n      login={login}\n      authUserLogOut={onLogOutUser}\n    />\n  )\n})\n\n\nconst Header: React.FC<PropsType> = React.memo((props) => {\n  const { isAuth, login, authUserLogOut } = props\n  return (\n    <header className={s.header}>\n      <div className={s.container}>\n        <div className={s.headerBody}>\n          <div className={s.logo}>\n            <img src={logo} alt=\"logo\" />\n          </div>\n          <div className={s.loginBlock}>\n            {isAuth ?\n              <div className={s.login_wrapper}>\n                <div className={s.login_ava}>\n                  <img src={userPhoto} />\n                </div>\n                <p className={s.login}>{login}</p>\n                <Link onClick={authUserLogOut} className={s.btn} to={'/users'}>Log Out</Link>\n              </div>\n              : <Link to={'/login'}>Log In</Link>}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n})\n\n\n\n\n","export default \"data:image/png;base64,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\"","import { ThunkAction } from \"redux-thunk\";\r\nimport { usersAPI } from \"../api\";\r\nimport { UsersType } from \"../types/types\";\r\nimport { showError } from \"./errors-reducer\";\r\nimport { AppStateType, InferActionsTypes } from \"./redux-store\";\r\n\r\nexport type LinksType = {\r\n   id: number\r\n   address: string\r\n   name: string\r\n}\r\n\r\nlet initialState = {\r\n   links: [\r\n      { id: 1, address: \"profile\", name: \"Profile\", },\r\n      { id: 2, address: \"dialogs\", name: \"Dialogs\", },\r\n      { id: 3, address: \"news\", name: \"News\", },\r\n      { id: 4, address: \"music\", name: \"Music\", },\r\n      { id: 5, address: \"users\", name: \"Users\", },\r\n      { id: 6, address: \"settings\", name: \"Settings\", },\r\n   ] as Array<LinksType>,\r\n   friends: [] as Array<UsersType>,\r\n   pageSize: 3,\r\n   totalUserCount: 0,\r\n   currentPage: 1,\r\n   isFetching: false\r\n};\r\n\r\ntype initialStateType = typeof initialState\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\n\r\n\r\nconst sidebarReducer = (state = initialState, action: ActionsTypes): initialStateType => {\r\n   switch (action.type) {\r\n      case \"SET_FRIENDS\": {\r\n         return {\r\n            ...state,\r\n            friends: action.friends\r\n         }\r\n      };\r\n      case 'SET_PAGE':\r\n         return {\r\n            ...state, currentPage: action.currentPage,\r\n         };\r\n      case 'SET_TOTAL_COUNT':\r\n         return {\r\n            ...state, totalUserCount: action.totalCount,\r\n         };\r\n      case 'SET_IS_FETCHING':\r\n         return {\r\n            ...state, isFetching: action.isFetching,\r\n         };\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n\r\nexport const actions = {\r\n   setFriends: (friends: Array<UsersType>) => ({ type: 'SET_FRIENDS', friends } as const),\r\n   setPage: (currentPage: number) => ({ type: 'SET_PAGE', currentPage } as const),\r\n   setTotalCount: (totalCount: number) => ({ type: 'SET_TOTAL_COUNT', totalCount } as const),\r\n   setIsFetching: (isFetching: boolean) => ({ type: 'SET_IS_FETCHING', isFetching } as const),\r\n}\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsTypes>\r\n\r\nexport const requestFriends = (currentPage: number, pageSize: number): ThunkType => async (dispatch) => {\r\n   try {\r\n      dispatch(actions.setIsFetching(true));\r\n      let data = await usersAPI.getFiends(currentPage, pageSize);\r\n      dispatch(actions.setFriends(data.items));\r\n      dispatch(actions.setTotalCount(data.totalCount));\r\n      dispatch(actions.setIsFetching(false));\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\nexport const setFriendsPage = (p: number, pageSize: number): ThunkType => async (dispatch) => {\r\n   try {\r\n      dispatch(actions.setIsFetching(true));\r\n      dispatch(actions.setPage(p));\r\n      let data = await usersAPI.getFiends(p, pageSize);\r\n      dispatch(actions.setFriends(data.items));\r\n      dispatch(actions.setIsFetching(false));\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\n\r\nexport default sidebarReducer;","import { AppStateType } from \"../redux/redux-store\";\r\n\r\nexport const getLinks = (state: AppStateType) => {\r\n   return state.sidebar.links\r\n};\r\nexport const getFriends = (state: AppStateType) => {\r\n   return state.sidebar.friends\r\n};\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n   return state.sidebar.pageSize\r\n};\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n   return state.sidebar.currentPage\r\n};\r\n\r\nexport const getTotalUserCount = (state: AppStateType) => {\r\n   return state.sidebar.totalUserCount\r\n};\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n   return state.sidebar.isFetching\r\n}","import React from 'react';\r\nimport s from './Preloader.module.scss'\r\n\r\n\r\nconst MiniPreloader: React.FC = React.memo(() => {\r\n   return (\r\n      <div className={s.wrapper}>\r\n         <div className={s.ldsDualRing}></div>\r\n      </div>\r\n   );\r\n})\r\n\r\nexport default MiniPreloader;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport { UsersType } from '../../../types/types';\r\nimport MiniPreloader from '../../common/MiniPreloader/Preloader';\r\nimport s from './Friends.module.scss';\r\n\r\n\r\ntype FriendsPropsType = {\r\n   friends: [] | Array<UsersType>\r\n   isFetching: boolean\r\n}\r\ntype FriendPropsType = {\r\n   name: string\r\n   id: number\r\n   photo: any\r\n}\r\n\r\n\r\nexport const Friends: React.FC<FriendsPropsType> = React.memo((props) => {\r\n   const { friends, isFetching } = props\r\n   let friendsElements = friends.map(f => <Friend key={f.id} name={f.name} photo={f.photos.small} id={f.id} />)\r\n   return (\r\n      <div className={s.friends}>\r\n         <h2 className={s.title}>Friends</h2>\r\n         <div className={s.flex}>\r\n            {isFetching ? <MiniPreloader /> : friendsElements}\r\n         </div>\r\n      </div >\r\n   );\r\n})\r\n\r\nconst Friend: React.FC<FriendPropsType> = React.memo((props) => {\r\n   const { name, id, photo } = props\r\n   return (\r\n      <div className={s.friend}>\r\n         <Link className={s.icon} to={'/profile/' + id}>\r\n            <img src={photo ? photo : userPhoto} alt=\"\" />\r\n         </Link>\r\n         <p className={s.name}>{name}</p>\r\n      </div>\r\n   );\r\n})\r\n\r\n","import React, { Component } from 'react';\r\nimport s from '../Sidebar.module.scss'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\ntype PropsType = {\r\n   address: string\r\n   name: string\r\n}\r\n\r\nexport const Menu_link: React.FC<PropsType> = React.memo((props) => {\r\n   let path = \"/\" + props.address;\r\n   return (\r\n      <li className={s.sidebar__link}>\r\n         <NavLink to={path} activeClassName={s.active}>{props.name}</NavLink>\r\n      </li>\r\n   );\r\n})\r\n\r\n\r\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LinksType, requestFriends } from '../../redux/sidebar-reducer';\nimport { getIsAuth } from '../../selectors/auth-selectors';\nimport { getCurrentPage, getFriends, getIsFetching, getLinks, getPageSize } from '../../selectors/sidebar-selectors';\nimport { UsersType } from '../../types/types';\nimport { Friends } from './Friends/Friends';\nimport { Menu_link } from './Menu_link/Menu_link';\nimport s from './Sidebar.module.scss';\n\ntype PropsType = {\n  links: [] | Array<LinksType>\n  friends: [] | Array<UsersType>\n  isAuth: boolean,\n  isFetching: boolean\n}\n\n\nexport const SidebarContainer: React.FC = React.memo(() => {\n  const links = useSelector(getLinks)\n  const friends = useSelector(getFriends)\n  const isAuth = useSelector(getIsAuth)\n  const isFetching = useSelector(getIsFetching)\n  const currentPage = useSelector(getCurrentPage)\n  const pageSize = useSelector(getPageSize)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(requestFriends(currentPage, pageSize))\n  }, []);\n\n  return (\n    <Sidebar\n      links={links}\n      friends={friends}\n      isAuth={isAuth}\n      isFetching={isFetching}\n    />\n  )\n})\n\n\nconst Sidebar: React.FC<PropsType> = React.memo((props) => {\n  let menuElements = props.links.map((l: LinksType) => <Menu_link key={l.id} name={l.name} address={l.address} />)\n  return (\n    <nav className={s.Sidebar}>\n      <ul className={s.Sidebar__list}>\n        {menuElements}\n      </ul>\n      {props.isAuth && <Friends\n        isFetching={props.isFetching}\n        friends={props.friends}\n      />}\n    </nav >\n  );\n})","import { ThunkAction } from 'redux-thunk';\r\nimport { authUserData } from './auth-reducer';\r\nimport { showError } from './errors-reducer';\r\nimport { AppStateType, InferActionsTypes } from './redux-store';\r\n\r\n\r\nlet initialState = {\r\n   initialized: false,\r\n};\r\ntype initialStateType = typeof initialState\r\n\r\ntype ActionTypes = InferActionsTypes<typeof actions>\r\n\r\nconst appReducer = (state = initialState, action: ActionTypes): initialStateType => {\r\n   switch (action.type) {\r\n      case 'INITIALIZED_SUCCESS': {\r\n         return {\r\n            ...state,\r\n            initialized: true,\r\n         };\r\n      };\r\n      default:\r\n         return state;\r\n   };\r\n};\r\n\r\n\r\nexport const actions = {\r\n   setInitialized: () => ({ type: 'INITIALIZED_SUCCESS' } as const),\r\n}\r\n\r\n\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionTypes>\r\n\r\nexport const initializedApp = (): ThunkType => {\r\n   return (dispatch) => {\r\n      try {\r\n         let promise = dispatch(authUserData());\r\n         Promise.all([promise])\r\n            .then(() => {\r\n               dispatch(actions.setInitialized());\r\n            });\r\n      } catch (error: any) {\r\n         dispatch(showError(error.message));\r\n      }\r\n   }\r\n};\r\n\r\n\r\nexport default appReducer;","import React, { Suspense, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Switch, withRouter } from 'react-router';\r\nimport { Route } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport './App.scss';\r\nimport ErrorPopup from './components/common/ErrorPopup/ErrorPopup';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport { Footer } from './components/Footer/Footer';\r\nimport { HeaderContainer } from './components/Header/Header';\r\nimport { SidebarContainer } from './components/Sidebar/Sidebar';\r\nimport { initializedApp } from './redux/app-reducer';\r\nimport { getInitialized } from './selectors/auth-selectors';\r\n\r\n\r\n\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst LoginContainer = React.lazy(() => import('./components/Login/Login'));\r\nconst NotFound = React.lazy(() => import('./components/NotFound/NotFound'));\r\nconst Music = React.lazy(() => import('./components/Music/Music'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\r\n\r\n\r\nconst App: React.FC = () => {\r\n\r\n  const initialized = useSelector(getInitialized)\r\n  let dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(initializedApp())\r\n  }, []);\r\n\r\n  if (!initialized) {\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\" >\r\n      <ErrorPopup />\r\n      <HeaderContainer />\r\n      <SidebarContainer />\r\n      <div className=\"app__wrapper_content\">\r\n        <Suspense fallback={<Preloader />}>\r\n          <Switch>\r\n            <Route exact path='/' component={ProfileContainer} />\r\n            <Route path='/profile/:userId?' component={ProfileContainer} />\r\n            <Route path='/dialogs' component={DialogsContainer} />\r\n            <Route path='/users' component={UsersContainer} />\r\n            <Route path='/login' component={LoginContainer} />\r\n            <Route path='/news' component={News} />\r\n            <Route path='/music' component={Music} />\r\n            <Route path='/settings' component={Settings} />\r\n            <Route path='*' component={NotFound} />\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n  withRouter,\r\n)(App)","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-reducer';\r\nimport errorsReducer from './errors-reducer';\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n   profilePage: profileReducer,\r\n   dialogsPage: dialogsReducer,\r\n   sidebar: sidebarReducer,\r\n   usersPage: usersReducer,\r\n   auth: authReducer,\r\n   form: formReducer,\r\n   app: appReducer,\r\n   errors: errorsReducer,\r\n});\r\n\r\ntype RootReducerType = typeof rootReducer;\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n\r\ntype PropertiesTypes<T> = T extends { [key: string]: infer U } ? U : never;\r\nexport type InferActionsTypes<T extends { [key: string]: (...args: any[]) => any }> = ReturnType<PropertiesTypes<T>>\r\n\r\nlet store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './redux/redux-store'\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux'\r\n\r\n\r\nReactDOM.render(\r\n   <BrowserRouter>\r\n      <Provider store={store}>\r\n         <App />\r\n      </Provider>\r\n   </BrowserRouter>,\r\n   document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n","import { ThunkAction } from 'redux-thunk';\r\nimport { authAPI, ResultCodeEnum, securityAPI } from '../api';\r\nimport { showError } from './errors-reducer';\r\nimport { AppStateType, InferActionsTypes } from './redux-store';\r\n\r\n\r\nlet initialState = {\r\n   userId: null as number | null,\r\n   email: null as string | null,\r\n   login: null as string | null,\r\n   isAuth: false,\r\n   captcha: null as string | null,\r\n   authError: null as string | null,\r\n};\r\ntype initialStateType = typeof initialState\r\n\r\n\r\nconst authReducer = (state = initialState, action: ActionTypes): initialStateType => {\r\n   switch (action.type) {\r\n      case 'SET_USER_DATA': {\r\n         return {\r\n            ...state,\r\n            ...action.data,\r\n            isAuth: true,\r\n         };\r\n      };\r\n      case 'SET_CAPTCHA': {\r\n         return {\r\n            ...state,\r\n            captcha: action.captcha,\r\n         }\r\n      };\r\n      case 'SET_LOGOUT': {\r\n         return {\r\n            ...state,\r\n            ...action.data,\r\n         };\r\n      };\r\n      case 'SET_AUTH_ERROR': {\r\n         return {\r\n            ...state,\r\n            authError: action.error\r\n         };\r\n      };\r\n      default:\r\n         return state;\r\n   };\r\n};\r\n\r\n\r\ntype ActionTypes = InferActionsTypes<typeof actions>\r\n\r\nexport const actions = {\r\n   setAuthUserData: (userId: number | null, email: string | null, login: string | null, captcha: string | null) => ({ type: 'SET_USER_DATA', data: { userId, email, login, captcha } } as const),\r\n\r\n   setAuthLogin: (email: string | null, password: string | null, rememberMe: boolean) => ({ type: 'SET_LOGIN', formData: { email, password, rememberMe } } as const),\r\n\r\n   setAuthLogout: (userId: null, email: null, login: null, isAuth: boolean, authError: null) => ({ type: 'SET_LOGOUT', data: { userId, email, login, isAuth, authError } } as const),\r\n\r\n   setSecurityCaptcha: (captcha: string) => ({ type: 'SET_CAPTCHA', captcha } as const),\r\n\r\n   setAuthError: (error: string) => ({ type: 'SET_AUTH_ERROR', error } as const),\r\n}\r\n\r\n\r\n\r\n\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionTypes>\r\n\r\nexport const authUserData = (): ThunkType => async (dispatch) => {\r\n   try {\r\n      let data = await authAPI.getUserData();\r\n      if (data.resultCode === ResultCodeEnum.Success) {\r\n         let { id, email, login, captcha } = data.data;\r\n         dispatch(actions.setAuthUserData(id, email, login, captcha));\r\n      }\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\n\r\nexport const authUserLogIn = (email: string, password: string, rememberMe: boolean, captcha: string | null): ThunkType => async (dispatch: any) => {\r\n   try {\r\n      let data = await authAPI.logInUser(email, password, rememberMe, captcha)\r\n      if (data.resultCode == ResultCodeEnum.Success) {\r\n         dispatch(authUserData())\r\n      } else {\r\n         if (data.resultCode == ResultCodeEnum.CaptchaIsRequired) {\r\n            dispatch(getCapthchaUrl())\r\n         }\r\n         let errorMessage = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n         dispatch(actions.setAuthError(errorMessage))\r\n      }\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n\r\n};\r\n\r\nexport const authUserLogOut = (): ThunkType => async (dispatch) => {\r\n   try {\r\n      let data = await authAPI.logOutUser();\r\n      if (data.resultCode == ResultCodeEnum.Success) {\r\n         dispatch(actions.setAuthLogout(null, null, null, false, null,));\r\n      }\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\n\r\nexport const getCapthchaUrl = (): ThunkType => async (dispatch) => {\r\n   try {\r\n      let data = await securityAPI.getCaptcha();\r\n      dispatch(actions.setSecurityCaptcha(data.url));\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\n\r\n\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sidebar\":\"Sidebar_Sidebar__2SyFz\",\"Sidebar__list\":\"Sidebar_Sidebar__list__2sYKm\",\"sidebar__link\":\"Sidebar_sidebar__link__2eWD7\"};","export default __webpack_public_path__ + \"static/media/user.4e009506.png\";","import React from 'react';\r\nimport axios from \"axios\";\r\nimport { PhotosType, ProfileType, UsersType } from './types/types';\r\n\r\n\r\nconst instance = axios.create({\r\n   withCredentials: true,\r\n   baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n   headers: {\r\n      'API-KEY': \"81df0079-0492-4de1-a05f-7da3384208ab\"\r\n   },\r\n});\r\n\r\nexport const usersAPI = {\r\n   getUsers(currentPage: number = 1, pageSize: number = 5, term: string = '', friend: null | boolean = null) {\r\n      return instance.get<GetUsersType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend == null ? '' : `&friend=${friend}`))\r\n         .then(response => {\r\n            return response.data;\r\n         })\r\n   },\r\n   followUser(id = 2) {\r\n      return instance.post<FollowType>(`follow/${id}`)\r\n         .then(response => {\r\n            return response.data;\r\n         })\r\n   },\r\n   unfollowUser(id = 2) {\r\n      return instance.delete<FollowType>(`follow/${id}`)\r\n         .then(response => {\r\n            return response.data;\r\n         })\r\n   },\r\n   getFiends(currentPage = 1, pageSize = 3) {\r\n      return instance.get<GetUsersType>(`users?page=${currentPage}&count=${pageSize}&friend=true`)\r\n         .then(response => {\r\n            return response.data;\r\n         })\r\n   },\r\n};\r\n\r\nexport const profileAPI = {\r\n   getProfile(userId: number) {\r\n      return instance.get<ProfileType>(`profile/${userId}`)\r\n   },\r\n   getStatus(userId: number) {\r\n      return instance.get<string>(`profile/status/${userId}`)\r\n   },\r\n   updateStatus(status: string) {\r\n      return instance.put<UpdateStatusType>(`profile/status`, { status });\r\n   },\r\n   getUsersForProfile() {\r\n      return instance.get<GetUsersType>(`users`)\r\n         .then(response => {\r\n            return response.data;\r\n         })\r\n   },\r\n   updatePhoto(photoFile: any) {\r\n      const formData = new FormData();\r\n      formData.append('image', photoFile)\r\n      return instance.put<UpdatePhotoType>(`profile/photo`, formData, {\r\n         headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n         }\r\n      });\r\n   },\r\n   updateProfile(newData: ProfileType) {\r\n      return instance.put<UpdateProfileType>(`profile`, newData);\r\n   },\r\n};\r\n\r\nexport const authAPI = {\r\n   getUserData() {\r\n      return instance.get<GetUserDataType>(`auth/me`)\r\n         .then(response => {\r\n            return response.data;\r\n         })\r\n   },\r\n   getUserPhoto() {\r\n      return instance.get<GetPhotoDataType>(`profile/`)\r\n         .then(response => {\r\n            return response.data;\r\n         })\r\n   },\r\n   logInUser(email: string, password: string, rememberMe: boolean = false, captcha: string | null = null,) {\r\n      return instance.post<LogInUserType>(`auth/login`, { email, password, rememberMe, captcha })\r\n         .then(response => {\r\n            return response.data;\r\n         })\r\n   },\r\n   logOutUser() {\r\n      return instance.delete<LogOutUserType>(`auth/login`)\r\n         .then(response => {\r\n            return response.data;\r\n         })\r\n   },\r\n};\r\n\r\nexport const securityAPI = {\r\n   getCaptcha() {\r\n      return instance.get<GetCaptchaType>(`security/get-captcha-url`).then(response => {\r\n         return response.data\r\n      })\r\n   },\r\n};\r\n\r\n\r\n\r\nexport enum ResultCodeEnum {\r\n   Success = 0,\r\n   Error = 1,\r\n   CaptchaIsRequired = 10\r\n}\r\n\r\ntype GetUserDataType = {\r\n   data: {\r\n      id: number\r\n      email: string\r\n      login: string\r\n      captcha: string | null\r\n   }\r\n   resultCode: ResultCodeEnum\r\n   messages: Array<string>\r\n}\r\ntype GetPhotoDataType = {\r\n   data: PhotosType\r\n   resultCode: ResultCodeEnum\r\n   messages: Array<string>\r\n}\r\ntype LogInUserType = {\r\n   data: {\r\n      email: string\r\n      password: string\r\n      rememberMe: boolean\r\n      captcha: string | null\r\n   }\r\n   resultCode: ResultCodeEnum\r\n   messages: Array<string>\r\n}\r\ntype LogOutUserType = {\r\n   data: {}\r\n   resultCode: ResultCodeEnum\r\n   messages: Array<string>\r\n}\r\ntype UpdateStatusType = {\r\n   status: string\r\n   resultCode: ResultCodeEnum\r\n   messages: Array<string>\r\n}\r\ntype GetUsersType = {\r\n   error: null | string\r\n   items: Array<UsersType>\r\n   totalCount: number\r\n}\r\ntype FollowType = {\r\n   data: any\r\n   fieldsErrors: Array<any>\r\n   messages: Array<string>\r\n   resultCode: number\r\n}\r\ntype GetCaptchaType = {\r\n   url: string\r\n}\r\ntype UpdateProfileType = {\r\n   data: ProfileType\r\n   resultCode: ResultCodeEnum\r\n   messages: Array<string>\r\n}\r\ntype UpdatePhotoType = {\r\n   data: {\r\n      photos: PhotosType\r\n   }\r\n   resultCode: ResultCodeEnum\r\n   messages: Array<string>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Footer\":\"Footer_Footer__15rJg\",\"Footer__copy\":\"Footer_Footer__copy__1lXfc\"};","import React from 'react';\r\nimport s from './Preloader.module.scss';\r\n\r\n\r\nconst Preloader: React.FC = React.memo(() => {\r\n   return (\r\n      <div className={s.wrapper}>\r\n         <div className={s.ldsDualRing}></div>\r\n      </div>\r\n   );\r\n})\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsDualRing\":\"Preloader_ldsDualRing__3S__x\",\"wrapper\":\"Preloader_wrapper__2Qfjg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsDualRing\":\"Preloader_ldsDualRing__iMzi9\",\"wrapper\":\"Preloader_wrapper__kzYrf\"};","import { ThunkAction } from 'redux-thunk';\r\nimport { profileAPI, ResultCodeEnum } from '../api';\r\nimport { PhotosType, ProfileType } from '../types/types';\r\nimport { showError } from './errors-reducer';\r\nimport { AppStateType, InferActionsTypes } from './redux-store';\r\n\r\n\r\nexport type PostsType = {\r\n   id: number\r\n   message: string\r\n   likes: number\r\n}\r\ntype ActionTypes = InferActionsTypes<typeof actions>\r\n\r\nlet initialState = {\r\n   posts: [\r\n      { id: 1, message: \"Hi, how are you\", likes: 2, },\r\n      { id: 2, message: \"Hello everyone\", likes: 12, },\r\n      { id: 3, message: \"My pet project\", likes: 5, },\r\n   ] as Array<PostsType>,\r\n   profile: null as ProfileType | null,\r\n   isFetching: false,\r\n   status: '',\r\n   editMode: false,\r\n   localIsFetching: false,\r\n   errorMessage: null as string | null\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\nconst profileReducer = (state = initialState, action: ActionTypes): InitialStateType => {\r\n   switch (action.type) {\r\n      case 'ADD_POST': {\r\n         let newPost = {\r\n            id: state.posts.length + 2,\r\n            message: action.postMessage,\r\n            likes: 0,\r\n         };\r\n         return {\r\n            ...state,\r\n            posts: [newPost, ...state.posts],\r\n         };\r\n      };\r\n      case 'SET_USER_PROFILE': {\r\n         return { ...state, profile: action.profile, }\r\n      };\r\n      case 'IS_FETCHING':\r\n         return {\r\n            ...state, isFetching: action.isFetching\r\n         };\r\n      case 'LOCAL_IS_FETCHING':\r\n         return {\r\n            ...state, localIsFetching: action.localIsFetching\r\n         };\r\n      case 'SET_STATUS':\r\n         return {\r\n            ...state,\r\n            status: action.status\r\n         };\r\n      case 'DELETE_POST':\r\n         return {\r\n            ...state,\r\n            posts: state.posts.filter(p => p.id != action.postId),\r\n         };\r\n      case 'LIKE_POST':\r\n         return {\r\n            ...state,\r\n            posts: state.posts.map(p => {\r\n               if (p.id === action.postId) {\r\n                  return { ...p, likes: action.postLike, }\r\n               }\r\n               return p;\r\n            }),\r\n         };\r\n      case 'SAVE_PHOTO_SUCCESS':\r\n         return {\r\n            ...state,\r\n            profile: { ...state.profile, photos: action.photosFiles } as ProfileType,\r\n         };\r\n      case 'ON_EDIT_MODE':\r\n         return {\r\n            ...state,\r\n            editMode: true,\r\n         };\r\n      case 'OFF_EDIT_MODE':\r\n         return {\r\n            ...state,\r\n            editMode: false,\r\n         };\r\n      case 'SET_PROFILE_ERROR':\r\n         return {\r\n            ...state,\r\n            errorMessage: action.errorMessage\r\n         };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\n\r\nexport const actions = {\r\n   addPostActionCreator: (postMessage: string) => ({ type: 'ADD_POST', postMessage } as const),\r\n   setUserProfile: (profile: ProfileType) => ({ type: 'SET_USER_PROFILE', profile, } as const),\r\n   toggleIsFetching: (isFetching: boolean) => ({ type: 'IS_FETCHING', isFetching } as const),\r\n   setStatus: (status: string) => ({ type: 'SET_STATUS', status, } as const),\r\n   deletePost: (postId: number) => ({ type: 'DELETE_POST', postId } as const),\r\n   likePost: (postId: number, postLike: number) => ({ type: 'LIKE_POST', postId, postLike } as const),\r\n   setPhoto: (photosFiles: PhotosType) => ({ type: 'SAVE_PHOTO_SUCCESS', photosFiles } as const),\r\n   toggleLocalIsFetching: (localIsFetching: boolean) => ({ type: 'LOCAL_IS_FETCHING', localIsFetching } as const),\r\n   onEditMode: () => ({ type: 'ON_EDIT_MODE' } as const),\r\n   offEditMode: () => ({ type: 'OFF_EDIT_MODE' } as const),\r\n   setProfileError: (errorMessage: string) => ({ type: 'SET_PROFILE_ERROR', errorMessage } as const),\r\n}\r\n\r\n\r\n\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionTypes>\r\n\r\nexport const getUserProfile = (userId: number): ThunkType => async (dispatch) => {\r\n   dispatch(actions.toggleIsFetching(true));\r\n   let response = await profileAPI.getProfile(userId);\r\n   dispatch(actions.setUserProfile(response.data));\r\n   dispatch(actions.toggleIsFetching(false));\r\n};\r\n\r\nexport const getStatus = (userId: number): ThunkType => async (dispatch) => {\r\n   let response = await profileAPI.getStatus(userId);\r\n   dispatch(actions.setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\r\n   try {\r\n      let response = await profileAPI.updateStatus(status)\r\n      if (response.data.resultCode === ResultCodeEnum.Success) {\r\n         dispatch(actions.setStatus(status));\r\n      }\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\n\r\nexport const updatePhoto = (photoFile: PhotosType): ThunkType => async (dispatch) => {\r\n   try {\r\n      dispatch(actions.toggleLocalIsFetching(true))\r\n      let response = await profileAPI.updatePhoto(photoFile)\r\n      if (response.data.resultCode === ResultCodeEnum.Success) {\r\n         dispatch(actions.setPhoto(response.data.data.photos));\r\n      }\r\n      dispatch(actions.toggleLocalIsFetching(false))\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\n\r\nexport const updateProfile = (profileData: ProfileType): ThunkType => async (dispatch, getState: any) => {\r\n   try {\r\n      dispatch(actions.toggleIsFetching(true))\r\n      const userId = getState().auth.userId\r\n      let response = await profileAPI.updateProfile(profileData)\r\n      if (response.data.resultCode === ResultCodeEnum.Success) {\r\n         dispatch(getUserProfile(userId));\r\n         dispatch(actions.offEditMode());\r\n      } else {\r\n         let errorMessage = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n         dispatch(actions.setProfileError(errorMessage));\r\n      }\r\n      dispatch(actions.toggleIsFetching(false))\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\n\r\n\r\nexport default profileReducer;","export default __webpack_public_path__ + \"static/media/error.d24ec31a.jpg\";","import { AppStateType } from \"../redux/redux-store\";\r\n\r\n\r\nexport const getErrorMessage = (state: AppStateType) => {\r\n   return state.errors.errorMessage\r\n}","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport errorIcon from '../../../assets/images/error.jpg';\r\nimport { actions } from '../../../redux/errors-reducer';\r\nimport { getErrorMessage } from '../../../selectors/error-selectors';\r\nimport s from './ErrorPopup.module.scss';\r\n\r\n\r\n\r\n\r\nconst ErrorPopup: React.FC = React.memo(() => {\r\n\r\n   const errorMessage = useSelector(getErrorMessage)\r\n   let dispatch = useDispatch()\r\n   let { deactivateMode } = actions\r\n\r\n   let onDeactivateMode = () => {\r\n      dispatch(deactivateMode())\r\n   }\r\n   let showError = errorMessage != null;\r\n   return (\r\n      <div className={showError ? s.wrapper : s.wrapperNone}>\r\n         <div className={s.wrapperBody}>\r\n            <div className={s.header}>\r\n               <h1 className={s.title}>Oops, something is wrong!</h1>\r\n               <div className={s.closeWrapper}><p className={s.close} onClick={onDeactivateMode}>x</p></div>\r\n            </div>\r\n            <div className={s.content}>\r\n               <h2 className={s.subtitle}>{errorMessage}</h2>\r\n               <div className={s.image}><img src={errorIcon} alt=\"\" /></div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n})\r\n\r\n\r\n\r\nexport default ErrorPopup\r\n\r\n","import { ThunkAction } from \"redux-thunk\";\r\nimport { AppStateType, InferActionsTypes } from \"./redux-store\";\r\n\r\n\r\n\r\nlet initialState = {\r\n   errorMessage: null as string | null,\r\n   errorsMode: true,\r\n};\r\ntype initialStateType = typeof initialState;\r\ntype ActionTypes = InferActionsTypes<typeof actions>\r\n\r\nconst errorsReducer = (state = initialState, action: ActionTypes): initialStateType => {\r\n   switch (action.type) {\r\n      case \"ON_MODE\":\r\n         return {\r\n            ...state,\r\n            errorsMode: true,\r\n            errorMessage: action.errorMessage,\r\n         };\r\n      case \"OFF_MODE\":\r\n         return {\r\n            ...state,\r\n            errorsMode: false,\r\n            errorMessage: null,\r\n         };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\n\r\nexport const actions = {\r\n   activateMode: (errorMessage: string | null) => ({ type: 'ON_MODE', errorMessage } as const),\r\n   deactivateMode: () => ({ type: 'OFF_MODE' } as const)\r\n}\r\n\r\n\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionTypes>\r\n\r\nexport const showError = (errorMessage: string | null): ThunkType => (dispatch) => {\r\n   dispatch(actions.activateMode(errorMessage));\r\n};\r\n\r\nexport default errorsReducer;","import { InferActionsTypes } from \"./redux-store\";\r\n\r\n\r\nexport type DialogsType = {\r\n   id: number\r\n   name: string\r\n}\r\nexport type MessagesType = {\r\n   id: number\r\n   name: string\r\n   message: string\r\n}\r\n\r\nlet initialState = {\r\n   dialogs: [\r\n      { id: 1, name: \"Billy\", },\r\n      { id: 2, name: \"Sergey\", },\r\n      { id: 3, name: \"Alex\", },\r\n   ] as Array<DialogsType>,\r\n   messages: [\r\n      { id: 1, name: \"Billy\", message: \"Oh shit Im sorry\" },\r\n      { id: 2, name: \"Alex\", message: \"Sorry fot what\" },\r\n   ] as Array<MessagesType>,\r\n};\r\n\r\n\r\ntype initialStateType = typeof initialState;\r\n\r\ntype ActionTypes = InferActionsTypes<typeof actions>\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionTypes): initialStateType => {\r\n   switch (action.type) {\r\n      case \"ADD_MESSAGE\": {\r\n         let newMessage = {\r\n            id: 4,\r\n            name: \"Dmitriy\",\r\n            message: action.message,\r\n         };\r\n         return {\r\n            ...state,\r\n            messages: [...state.messages, newMessage],\r\n         };\r\n      };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\n\r\n\r\nexport const actions = {\r\n   addMessageActionCreator: (message: string) => ({ type: 'ADD_MESSAGE', message } as const)\r\n}\r\n\r\n\r\n\r\nexport default dialogsReducer;","export const updateObjectInArray = (items: Array<any>, itemId: number, objPropName: string, newObjProps: any) => {\r\n   return items.map(u => {\r\n      if (u[objPropName] === itemId) {\r\n         return { ...u, ...newObjProps }\r\n      };\r\n      return u;\r\n   });\r\n};","import { showError } from './errors-reducer';\r\nimport { updateObjectInArray } from '../utilits/validators/object-helpers';\r\nimport { usersAPI, profileAPI } from '../api';\r\nimport { UsersType } from '../types/types';\r\nimport { AppStateType, InferActionsTypes } from './redux-store';\r\nimport { ThunkAction } from 'redux-thunk';\r\n\r\n\r\ntype InitialStateType = typeof initialState\r\nexport type FilterTypes = typeof initialState.filter\r\ntype ActionTypes = InferActionsTypes<typeof actions>;\r\n\r\n\r\n\r\nlet initialState = {\r\n   users: [] as Array<UsersType>,\r\n   pageSize: 10,\r\n   totalUserCount: 0,\r\n   currentPage: 1,\r\n   isFetching: false,\r\n   isFollowing: [] as any,\r\n   filter: {\r\n      term: '',\r\n      friend: null as null | boolean\r\n   }\r\n};\r\n\r\nconst usersReducer = (state = initialState, action: ActionTypes): InitialStateType => {\r\n   switch (action.type) {\r\n      case 'FOLLOW':\r\n         return {\r\n            ...state,\r\n            users: updateObjectInArray(state.users, action.userId, 'id', { followed: true }),\r\n         };\r\n      case 'UN_FOLLOW':\r\n         return {\r\n            ...state,\r\n            users: updateObjectInArray(state.users, action.userId, 'id', { followed: false }),\r\n         };\r\n      case 'SET_USERS':\r\n         return {\r\n            ...state,\r\n            users: action.users,\r\n         };\r\n      case 'SET_PAGE':\r\n         return {\r\n            ...state, currentPage: action.currentPage,\r\n         };\r\n      case 'SET_TOTAL_COUNT':\r\n         return {\r\n            ...state, totalUserCount: action.totalCount,\r\n         };\r\n      case 'IS_FETCHING':\r\n         return {\r\n            ...state, isFetching: action.isFetching\r\n         };\r\n      case 'IS_FOLLOWING':\r\n         return {\r\n            ...state,\r\n            isFollowing: action.isFollowing\r\n               ? [...state.isFollowing, action.userId]\r\n               : state.isFollowing.filter((id: number) => id != action.userId)\r\n         };\r\n      case 'SET_FILTER':\r\n         return {\r\n            ...state, filter: action.filter\r\n         };\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport const actions = {\r\n   follow: (userId: number) => ({ type: 'FOLLOW', userId } as const),\r\n   unfollow: (userId: number) => ({ type: 'UN_FOLLOW', userId } as const),\r\n   setUsers: (users: Array<UsersType>) => ({ type: 'SET_USERS', users } as const),\r\n   filterUsers: (filter: FilterTypes) => ({ type: 'SET_FILTER', filter } as const),\r\n   setPage: (currentPage: number) => ({ type: 'SET_PAGE', currentPage } as const),\r\n   setTotalCount: (totalCount: number) => ({ type: 'SET_TOTAL_COUNT', totalCount } as const),\r\n   toggleIsFetching: (isFetching: boolean) => ({ type: 'IS_FETCHING', isFetching } as const),\r\n   toggleIsFollowing: (isFollowing: boolean, userId: number) => ({ type: 'IS_FOLLOWING', isFollowing, userId } as const),\r\n}\r\n\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionTypes>\r\n\r\nconst followUnfollowFlow = async (dispatch: any, userId: number, apiMethod: any, actionCreator: any) => {\r\n   try {\r\n      dispatch(actions.toggleIsFollowing(true, userId));\r\n      let data = await apiMethod(userId)\r\n      if (data.resultCode == 0) {\r\n         dispatch(actionCreator(userId))\r\n      }\r\n      dispatch(actions.toggleIsFollowing(false, userId));\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\n\r\nexport const requestUsers = (currentPage: number, pageSize: number, filter: { term: string, friend: null | boolean }): ThunkType => async (dispatch) => {\r\n   try {\r\n      dispatch(actions.toggleIsFetching(true));\r\n      dispatch(actions.filterUsers(filter));\r\n      dispatch(actions.setPage(currentPage));\r\n      let data = await usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend);\r\n      dispatch(actions.setUsers(data.items));\r\n      dispatch(actions.setTotalCount(data.totalCount));\r\n      dispatch(actions.toggleIsFetching(false));\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\n\r\nexport const followUsers = (userId: number): ThunkType => {\r\n   return async (dispatch: any) => {\r\n      try {\r\n         followUnfollowFlow(dispatch, userId, usersAPI.followUser.bind(usersAPI), actions.follow)\r\n      } catch (error: any) {\r\n         dispatch(showError(error.message));\r\n      }\r\n   }\r\n};\r\n\r\nexport const unfollowUsers = (userId: number): ThunkType => {\r\n   return async (dispatch) => {\r\n      try {\r\n         followUnfollowFlow(dispatch, userId, usersAPI.unfollowUser.bind(usersAPI), actions.unfollow)\r\n      } catch (error: any) {\r\n         dispatch(showError(error.message));\r\n      }\r\n   }\r\n};\r\n\r\nexport const getUsersTest = () => async (dispatch: any) => {\r\n   try {\r\n      dispatch(actions.toggleIsFetching(true));\r\n      let data = await profileAPI.getUsersForProfile();\r\n      dispatch(actions.setUsers(data.items));\r\n      dispatch(actions.toggleIsFetching(false));\r\n   } catch (error: any) {\r\n      dispatch(showError(error.message));\r\n   }\r\n};\r\n\r\nexport default usersReducer;"],"sourceRoot":""}
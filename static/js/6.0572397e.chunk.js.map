{"version":3,"sources":["components/Dialogs/Dialog/Dialog.module.scss","components/Dialogs/Dialogs.module.scss","components/Dialogs/Message/Message.module.scss","components/Dialogs/MessageForm/MessageForm.module.scss","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","hoc/withAuthRedirect.js","selectors/dialogs-selectors.ts","components/Dialogs/Dialog/Dialog.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/MessageForm/MessageFormContainer.tsx","components/Dialogs/DialogsContainer.tsx","../node_modules/@babel/runtime/helpers/esm/inherits.js"],"names":["module","exports","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","_typeof","obj","Symbol","iterator","constructor","prototype","_possibleConstructorReturn","self","call","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","result","Super","NewTarget","this","arguments","apply","mapStateToPropsForRedirect","state","isAuth","auth","getDialogs","dialogsPage","dialogs","getMessages","messages","Dialog","React","memo","id","name","path","className","s","link","to","activeClassName","Message","message","user","icon","src","userPhoto","alt","content","text","MessageForm","dispatch","useDispatch","addMessageActionCreator","actions","wrapper","initialValues","newMessage","onSubmit","values","resetForm","messageForm","component","messageArea","placeholder","messageSend","DialogsContainer","useSelector","Dialogs","dialogElements","map","d","messageElements","m","items","title","compose","Component","RedirectComponent","subClass","superClass","create","value","protoProps","staticProps","connect"],"mappings":"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","file":"static/js/6.0572397e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Dialog_link__3OONQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1YxzG\",\"items\":\"Dialogs_items__MNeEY\",\"title\":\"Dialogs_title__1zSl8\",\"messages\":\"Dialogs_messages__YnvOH\",\"wrapper\":\"Dialogs_wrapper__3A2lt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__ylXXx\",\"user\":\"Message_user__3kYNv\",\"icon\":\"Message_icon__2_PJA\",\"name\":\"Message_name__2kCrt\",\"content\":\"Message_content__3Gdg-\",\"text\":\"Message_text__tALBX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MessageForm_wrapper__1aYXS\",\"messageForm\":\"MessageForm_messageForm__tG0dA\",\"messageArea\":\"MessageForm_messageArea__1wiE3\",\"messageSend\":\"MessageForm_messageSend__1tNW7\"};","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n   isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n   class RedirectComponent extends React.Component {\r\n      render() {\r\n         if (!this.props.isAuth) return <Redirect to='/login' />\r\n         return <Component {...this.props} />\r\n      };\r\n   };\r\n   let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n   return ConnectedAuthRedirectComponent;\r\n};\r\n\r\n\r\n\r\n","import { AppStateType } from \"../redux/redux-store\";\r\n\r\nexport const getDialogs = (state: AppStateType) => {\r\n   return state.dialogsPage.dialogs\r\n};\r\nexport const getMessages = (state: AppStateType) => {\r\n   return state.dialogsPage.messages\r\n};\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Dialog.module.scss';\r\n\r\ntype PropsType = {\r\n   id: number\r\n   name: string\r\n}\r\n\r\nexport const Dialog: React.FC<PropsType> = React.memo((props) => {\r\n   const { id, name } = props\r\n   let path = \"/dialogs/\" + id;\r\n   return (\r\n      <li className={s.link}><NavLink to={path} activeClassName=\"selected\" >{name}</NavLink></li>\r\n   );\r\n})\r\n","import React from 'react';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport s from './Message.module.scss';\r\n\r\ntype PropsType = {\r\n   name: string\r\n   message: string\r\n}\r\n\r\nexport const Message: React.FC<PropsType> = React.memo((props) => {\r\n   const { name, message } = props\r\n   return (\r\n      <div className={s.message}>\r\n         <div className={s.user}>\r\n            <div className={s.icon}>\r\n               <img src={userPhoto} alt=\"\" />\r\n            </div>\r\n            <p className={s.name}>{name}</p>\r\n         </div>\r\n         <div className={s.content}>\r\n            <p className={s.text}>{message}</p>\r\n         </div>\r\n      </div>\r\n   );\r\n})\r\n\r\n","import { Field, Form, Formik } from 'formik';\r\nimport React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { actions } from '../../../redux/dialogs-reducer';\r\nimport s from './MessageForm.module.scss';\r\n\r\n\r\ntype PropsType = {}\r\ninterface MyFormValues {\r\n   newMessage: string;\r\n}\r\n\r\n\r\nexport const MessageForm: React.FC<PropsType> = React.memo((props) => {\r\n\r\n   const dispatch = useDispatch();\r\n\r\n   const addMessageActionCreator = actions.addMessageActionCreator\r\n\r\n   let onAddMessage = (values: any, actions: any) => {\r\n      dispatch(addMessageActionCreator(values.newMessage))\r\n      actions.resetForm(true);\r\n   };\r\n\r\n   const initialValues: MyFormValues = { newMessage: '' };\r\n\r\n   return (\r\n      <Formik className={s.wrapper} initialValues={initialValues} onSubmit={onAddMessage}>\r\n         <Form className={s.messageForm}>\r\n            <Field component={'textarea'} name={'newMessage'} className={s.messageArea} placeholder=\"Write message...\" />\r\n            <button className={s.messageSend}>Send</button>\r\n         </Form>\r\n      </Formik>\r\n   );\r\n})\r\n\r\n\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { DialogsType, MessagesType } from '../../redux/dialogs-reducer';\r\nimport { getDialogs, getMessages } from '../../selectors/dialogs-selectors';\r\nimport { Dialog } from './Dialog/Dialog';\r\nimport s from './Dialogs.module.scss'\r\nimport { Message } from './Message/Message';\r\nimport { MessageForm } from './MessageForm/MessageFormContainer';\r\n\r\n\r\n\r\ntype PropsType = {\r\n   dialogs: Array<DialogsType>\r\n   messages: Array<MessagesType>\r\n}\r\n\r\n\r\n\r\nconst DialogsContainer: React.FC = React.memo(() => {\r\n   const dialogs = useSelector(getDialogs)\r\n   const messages = useSelector(getMessages)\r\n\r\n   return (\r\n      <Dialogs\r\n         dialogs={dialogs}\r\n         messages={messages}\r\n      />\r\n   )\r\n})\r\n\r\n\r\nconst Dialogs: React.FC<PropsType> = React.memo((props) => {\r\n   const { dialogs, messages } = props\r\n\r\n   let dialogElements = dialogs.map((d: DialogsType) =>\r\n      <Dialog key={d.id} name={d.name} id={d.id} />);\r\n\r\n   let messageElements = messages.map((m: MessagesType) =>\r\n      <Message key={m.id} name={m.name} message={m.message} />);\r\n\r\n   return (\r\n      <div className={s.dialogs}>\r\n         <ul className={s.items}>\r\n            <h2 className={s.title}>Dialogs</h2>\r\n            {dialogElements}\r\n         </ul>\r\n         <div className={s.wrapper}>\r\n            <div className={s.messages}>\r\n               {messageElements}\r\n            </div>\r\n            <MessageForm />\r\n         </div>\r\n      </div>\r\n   );\r\n})\r\n\r\n\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n   withAuthRedirect,\r\n)(DialogsContainer);\r\n\r\n\r\n","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}"],"sourceRoot":""}
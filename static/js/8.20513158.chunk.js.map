{"version":3,"sources":["components/Dialogs/Dialog/Dialog.module.scss","components/Dialogs/Dialogs.module.scss","components/Dialogs/Message/Message.module.scss","components/Dialogs/MessageForm/MessageForm.module.scss","hoc/withAuthRedirect.js","selectors/dialogs-selectors.ts","components/Dialogs/Dialog/Dialog.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/MessageForm/MessageFormContainer.tsx","components/Dialogs/DialogsContainer.tsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","getDialogs","dialogsPage","dialogs","getMessages","messages","Dialog","React","memo","props","id","name","path","className","s","link","to","activeClassName","Message","message","user","icon","src","userPhoto","alt","content","text","MessageForm","dispatch","useDispatch","addMessageActionCreator","actions","SignupSchema","Yup","shape","newMessage","required","wrapper","initialValues","onSubmit","values","resetForm","validationSchema","errors","touched","messageForm","error","component","messageArea","placeholder","messageSend","DialogsContainer","useSelector","Dialogs","dialogElements","map","d","messageElements","m","items","title","compose","Component","RedirectComponent","this","connect"],"mappings":"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","file":"static/js/8.20513158.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Dialog_link__3OONQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1YxzG\",\"items\":\"Dialogs_items__MNeEY\",\"title\":\"Dialogs_title__1zSl8\",\"messages\":\"Dialogs_messages__YnvOH\",\"wrapper\":\"Dialogs_wrapper__3A2lt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__ylXXx\",\"user\":\"Message_user__3kYNv\",\"icon\":\"Message_icon__2_PJA\",\"name\":\"Message_name__2kCrt\",\"content\":\"Message_content__3Gdg-\",\"text\":\"Message_text__tALBX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MessageForm_wrapper__1aYXS\",\"messageForm\":\"MessageForm_messageForm__tG0dA\",\"messageArea\":\"MessageForm_messageArea__1wiE3\",\"messageSend\":\"MessageForm_messageSend__1tNW7\",\"error\":\"MessageForm_error__QUVk-\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n   isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n   class RedirectComponent extends React.Component {\r\n      render() {\r\n         if (!this.props.isAuth) return <Redirect to='/login' />\r\n         return <Component {...this.props} />\r\n      };\r\n   };\r\n   let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n   return ConnectedAuthRedirectComponent;\r\n};\r\n\r\n\r\n\r\n","import { AppStateType } from \"../redux/redux-store\";\r\n\r\nexport const getDialogs = (state: AppStateType) => {\r\n   return state.dialogsPage.dialogs\r\n};\r\nexport const getMessages = (state: AppStateType) => {\r\n   return state.dialogsPage.messages\r\n};\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Dialog.module.scss';\r\n\r\ntype PropsType = {\r\n   id: number\r\n   name: string\r\n}\r\n\r\nexport const Dialog: React.FC<PropsType> = React.memo((props) => {\r\n   const { id, name } = props\r\n   let path = \"/dialogs/\" + id;\r\n   return (\r\n      <li className={s.link}><NavLink to={path} activeClassName=\"selected\" >{name}</NavLink></li>\r\n   );\r\n})\r\n","import React from 'react';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport s from './Message.module.scss';\r\n\r\ntype PropsType = {\r\n   name: string\r\n   message: string\r\n}\r\n\r\nexport const Message: React.FC<PropsType> = React.memo((props) => {\r\n   const { name, message } = props\r\n   return (\r\n      <div className={s.message}>\r\n         <div className={s.user}>\r\n            <div className={s.icon}>\r\n               <img src={userPhoto} alt=\"\" />\r\n            </div>\r\n            <p className={s.name}>{name}</p>\r\n         </div>\r\n         <div className={s.content}>\r\n            <p className={s.text}>{message}</p>\r\n         </div>\r\n      </div>\r\n   );\r\n})\r\n\r\n","import { Field, Form, Formik } from 'formik';\r\nimport React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { actions } from '../../../redux/dialogs-reducer';\r\nimport s from './MessageForm.module.scss';\r\nimport * as Yup from 'yup';\r\n\r\ninterface MyFormValues {\r\n   newMessage: string;\r\n}\r\n\r\n\r\nexport const MessageForm: React.FC = React.memo(() => {\r\n\r\n   const dispatch = useDispatch();\r\n\r\n   const addMessageActionCreator = actions.addMessageActionCreator\r\n\r\n   let onAddMessage = (values: any, actions: any) => {\r\n      dispatch(addMessageActionCreator(values.newMessage))\r\n      actions.resetForm(true);\r\n   };\r\n\r\n   const SignupSchema = Yup.object().shape({\r\n      newMessage: Yup.string().required('Field is required'),\r\n   });\r\n\r\n   const initialValues: MyFormValues = { newMessage: '' };\r\n\r\n   return (\r\n      <Formik\r\n         className={s.wrapper}\r\n         initialValues={initialValues}\r\n         onSubmit={onAddMessage}\r\n         validationSchema={SignupSchema}\r\n      >\r\n         {({ errors, touched }) =>\r\n            <Form className={s.messageForm + ' ' + (errors.newMessage && touched.newMessage ? s.error : null)}>\r\n               <Field\r\n                  component={'textarea'}\r\n                  name={'newMessage'}\r\n                  className={s.messageArea}\r\n                  placeholder={errors.newMessage && touched.newMessage ? errors.newMessage : 'Write message...'}\r\n               />\r\n               <button className={s.messageSend}>Send</button>\r\n            </Form>\r\n         }\r\n\r\n      </Formik>\r\n   );\r\n})\r\n\r\n\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { DialogsType, MessagesType } from '../../redux/dialogs-reducer';\r\nimport { getDialogs, getMessages } from '../../selectors/dialogs-selectors';\r\nimport { Dialog } from './Dialog/Dialog';\r\nimport s from './Dialogs.module.scss'\r\nimport { Message } from './Message/Message';\r\nimport { MessageForm } from './MessageForm/MessageFormContainer';\r\n\r\n\r\n\r\ntype PropsType = {\r\n   dialogs: Array<DialogsType>\r\n   messages: Array<MessagesType>\r\n}\r\n\r\n\r\n\r\nconst DialogsContainer: React.FC = React.memo(() => {\r\n   const dialogs = useSelector(getDialogs)\r\n   const messages = useSelector(getMessages)\r\n\r\n   return (\r\n      <Dialogs\r\n         dialogs={dialogs}\r\n         messages={messages}\r\n      />\r\n   )\r\n})\r\n\r\n\r\nconst Dialogs: React.FC<PropsType> = React.memo((props) => {\r\n   const { dialogs, messages } = props\r\n\r\n   let dialogElements = dialogs.map((d: DialogsType) =>\r\n      <Dialog key={d.id} name={d.name} id={d.id} />);\r\n\r\n   let messageElements = messages.map((m: MessagesType) =>\r\n      <Message key={m.id} name={m.name} message={m.message} />);\r\n\r\n   return (\r\n      <div className={s.dialogs}>\r\n         <ul className={s.items}>\r\n            <h2 className={s.title}>Dialogs</h2>\r\n            {dialogElements}\r\n         </ul>\r\n         <div className={s.wrapper}>\r\n            <div className={s.messages}>\r\n               {messageElements}\r\n            </div>\r\n            <MessageForm />\r\n         </div>\r\n      </div>\r\n   );\r\n})\r\n\r\n\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n   withAuthRedirect,\r\n)(DialogsContainer);\r\n\r\n\r\n"],"sourceRoot":""}